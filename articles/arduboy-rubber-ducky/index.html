<!DOCTYPE HTML>
<html class="sylveon" lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1"><!-- GENERAL -->
		<title>benji | Arduboy Rubber Ducky</title>
		<meta name="description" content="benji. not the dog.">
		<meta name="keywords" content="">
		<meta name="author" content="Benji Encalada Mora">
		<meta property="og:title" content="benji">
		<meta property="og:description" name="description" content="benji. not the dog.">
		<meta property="og:url" content="https://benji.dog">
		<meta property="og:image" content="/assets/avatar.png">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@benjifs">
		<link type="text/plain" rel="author" href="/humans.txt" />

		<!-- ICONS -->
		<link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
		<link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#000000">
		<link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="64x64" href="/assets/icons/favicon-64x64.png">
		<link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#000000">
		<meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">
		<meta name="msapplication-config" content="/browserconfig.xml">
		<meta name="theme-color" content="#1f1f1f">
		<link rel="shortcut icon" href="/favicon.ico">

		<!-- FEED -->
		<link rel="feed" href="/feed" type="text/html" title="feed">
		<link rel="alternate" href="/feed.xml" type="application/atom+xml" title="RSS (Atom) Feed">
		<link rel="alternate" href="/feed.json" type="application/json" title="JSON Feed">

		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="/assets/fontello/css/fontello.css">
		<link rel="stylesheet" type="text/css" href="/build/css/main.min.css">

		<!-- INDIEWEB -->
		<link rel="authorization_endpoint" href="https://indieauth.com/auth">
		<link rel="token_endpoint" href="https://tokens.indieauth.com/token">
		<link rel="micropub" href="https://micropub.benji.dog/micropub">
		<link rel="micropub_media" href="https://micropub.benji.dog/media">
		<link rel="webmention" href="https://webmention.io/www.benji.dog/webmention" />
		<link rel="pingback" href="https://webmention.io/www.benji.dog/xmlrpc" />
		<link rel="microsub" href="https://aperture.p3k.io/microsub/419">
	</head>
	<body>
		<header>
			<nav class="menu"><a href="/">~</a><a class="" href="/about">about</a>
				<a class="" href="/now">now</a>
				<a rel="feed" class="" href="/feed">feed</a>
				<a class="" href="/tags">tags</a>
				<i id="light-switch" class="icon-sun" onclick="light_switch();" aria-label="switch to light mode"></i>
			</nav>
		</header>
		<main>
			
<section class="page-wrapper">
	<article class="h-entry">
		<details hidden>
	<div class="p-author h-card">
		<a class="p-name u-url u-uid" href="https://benji.dog" rel="me">Benji Encalada Mora</a>
<img class="u-photo" src="/assets/avatar.png">
<p class="p-note">benji. not the dog.</p>
	</div>
	<a class="u-url" href="/articles/arduboy-rubber-ducky/"></a>
	<time class="dt-published" datetime="2017-12-02T06:31:18.186+00:00">2017-12-02T06:31:18.186+00:00</time>
		<a rel="syndication noreferrer" class="u-syndication" href="https://medium.com/benjifs/arduboy-rubber-ducky-ab593f0c1f15"></a>
	<a class="p-category" href="/tag/hacking">hacking</a>
	<a class="p-category" href="/tag/security">security</a>
	<a class="p-category" href="/tag/arduboy">arduboy</a>
	<a class="p-category" href="/tag/projects">projects</a>
</details>
			<h1 class="p-name">Arduboy Rubber Ducky</h1>
			<time class="dt-published" datetime="2017-12-02T06:31:18.186+00:00">Dec 02, 2017</time>
<div class="e-content"><h2>Overview</h2>
<p>I've had the <a href="https://www.arduboy.com/" target="_blank">Arduboy</a> since backing it back in May of 2015. I played with it a little bit when I first got it but for the most part it's been sitting in my drawer.</p>
<p>I've also been following <a href="https://www.hak5.org/" target="_blank">Hak5</a> for a while and one of their projects I've always really liked is the <a href="https://hakshop.com/products/usb-rubber-ducky-deluxe" target="_blank">USB Rubber Ducky</a>. I dont own one myself but I have always liked the idea of the automated HID attacks, especially with the DuckyScript language and all the available <a href="https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads" target="_blank">community payloads</a>.</p>
<p>About a week ago I decided it would be a good idea to take my Arduboy out of storage and try developing something small for it. After I realized it has an ATmega32u4 I thought I could use <a href="https://dukweeno.github.io/Duckuino/" target="_blank">Duckuino</a>, a DuckyScript to Arduino converter, and have it run on the Arduboy.</p>
<p>Once I got a basic DuckyScript to work, I thought I could add more than one DuckyScript and write a selection menu in order to take advantage of the buttons on the Arduboy.</p>
<p>Lastly, I added a splash screen after the initial boot process that shows a rubber ducky icon. In order to get into the actual selection menu for the DuckyScripts you have to press the <a href="https://en.wikipedia.org/wiki/Konami_Code" target="_blank">Konami Code</a> sequence. After that you should see a menu with all the payloads on the Arduboy.</p>
<h2>Setup</h2>
<p>The first thing you're going to need to get this up and running on your own Arduboy is a copy of the <a href="https://github.com/benjifs/arduboy-rubber-ducky" target="_blank">Arduboy Rubber Ducky code</a> and the <a href="https://www.arduino.cc/en/Main/Software" target="_blank">Arduino IDE</a>.</p>
<p>Its also a good idea to install Arduboy from the <code>Boards Manager</code> in the Arduino IDE. To do this just go to preferences and add the following to &quot;Additional Boards Manager URLs&quot;: <code>https://arduboy.github.io/board-support/package_arduboy_index.json</code></p>
<p>After that you can just go to Tools &gt; Boards &gt; Boards Manager, search for Arduboy and install it.</p>
<p>I also recommend installing the <a href="https://github.com/MLXXXp/Arduboy2" target="_blank">Arduboy2</a> library as the main branch of the Arduboy library is not currently being maintained.</p>
<p>Once everything is up and running it would be a good idea to try out some examples and even some games from the <a href="http://team-arg.com/games.html" target="_blank">Arduboy team</a> just to get used to the uploading to board process.</p>
<p>Whenever you're ready to upload the Arduboy Rubber Ducky code to your Arduboy you only need to press the upload button and you're done.</p>
<p>I've included the basic &quot;Hello World&quot; payloads with my code but you can either write your own DuckyScript payloads or get some from the <a href="https://github.com/hak5darren/USB-Rubber-Ducky/wiki/Payloads" target="_blank">community payloads</a>. You can convert from DuckyScript to Arduino by using the <a href="https://dukweeno.github.io/Duckuino/" target="_blank">Duckuino</a> converter which I'm hosting myself to have everything in one place. After converting your DuckyScript payload, you can just copy the contents of the <code>setup</code> function and add it the the <code>ducky.h</code> file.</p>
<p>After that just scroll down to the end of the <code>ducky.h</code> file and add the function you just created to the list as well as a label for the menu.</p>
<h2>Issues</h2>
<p>I noticed in my testing that the payloads run a little slower coming from the Arduboy. You may find that you have to increase the delays in the scripts so that the commands run at the appropriate time.</p>
<p>Depending on which payloads I'm using I also sometimes run into size issues so this is something to keep in mind as you choose your payloads.</p>
<h2>Future Work</h2>
<p>I'm going to try to get my hands on an actual USB Rubber Ducky at some point so that I can compare execution times. With that comparison I should be able to figure out what sort of delays will make more sense for the Arduboy and I can modify Duckuino to convert specifically for it.</p>
<h2>Questions</h2>
<p>Feel free to contact me with any questions you may have.</p>
<p>You can also follow <a href="https://twitter.com/benjifs" target="_blank">@benjifs</a> on Twitter.</p>
<h2>Links</h2>
<ul>
<li><a href="https://github.com/benjifs/arduboy-rubber-ducky"><em>GitHub Repo</em></a></li>
<li><a href="http://benji.dog/ducky"><em>Duckyscript to Arduino converter</em></a></li>
<li><a href="https://www.arduboy.com/"><em>Arduboy</em></a></li>
<li><a href="https://www.arduino.cc/en/Main/Software"><em>Arduino IDE</em></a></li>
<li><a href="https://hakshop.com/products/usb-rubber-ducky-deluxe"><em>USB RubberÂ Ducky</em></a></li>
</ul>
</div>

		<footer class="entry-footer">
	<hr />
	<div class="date-link">
		<time class="dt-published" datetime="2017-12-02T06:31:18.186+00:00">Dec 02, 2017</time>
		<a href="http://bnj.pw/b4rh0" class="shortlink" rel="shortlink">bnj.pw/b4rh0</a>
	</div>
	<ul class="tags">
		<li><a class="p-category" href="/tags/hacking">hacking</a></li>
		<li><a class="p-category" href="/tags/security">security</a></li>
		<li><a class="p-category" href="/tags/arduboy">arduboy</a></li>
		<li><a class="p-category" href="/tags/projects">projects</a></li>
	</ul>
</footer>
	</article>
</section>

		</main>
		<script>
			if ("serviceWorker" in navigator) {
				navigator.serviceWorker.register("/sw.js");
			}
		</script>
		<script src="/build/js/main.min.js"></script>
		<!--
		D'`r^?K76|{j8x0v.-P1*`;'9+H#FE3fU{".?wvN)(rZvo5Vlqpih.fkd*hgIHdcb[!B^]\Uy<;WPUNrRKoONML.DhBAF?>b%$:9>=<5Y3y1U/.32+0)M-,l$H"!&}|B"!aw|{zs9wpXtsl2Sinmlkjiba'_^c\aZ~k
		-->
	</body>
</html>
