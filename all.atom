<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	<id>https://benji.dog/</id>
	<title>benji</title>
	<updated>2022-12-01T00:00:00Z</updated>
	<author>
		<name>Benji Encalada Mora</name>
		<uri>https://benji.dog</uri>
	</author>
	<link xml:base="https://benji.dog" href="/all.atom" rel="self"/>
	<link href="https://benji.dog"/>
	<icon>https://benji.dog/assets/avatar.png</icon>
	<logo>https://benji.dog/assets/avatar.png</logo>
	<entry>
		<id>https://benji.dog/articles/sparkles/</id>
		<title>sparkles</title>
		<link href="https://benji.dog/articles/sparkles/"/>
		<updated>2022-12-01T00:00:00Z</updated>
		<summary>I built a micropub client</summary>
		<content type="html"><![CDATA[<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-icon.png" alt="sparkles: a micropub client" /></span></p>
<p>I've been working on a <a href="https://indieweb.org/Micropub/Clients">micropub client</a> on and off for a few months now and since its <a href="https://indieweb.org/2022-12-indieweb-gift-calendar">IndieWeb Gift Calendar</a> season, I figured it was the perfect time to write about it.</p>
<p><strong>tl;dr:</strong> <a href="https://sparkles.sploot.com/">sparkles</a> is a micropub client. It supports <a href="https://indieauth.net/">IndieAuth</a> for login and expects a <a href="https://indieweb.org/Micropub/Servers">micropub endpoint</a> to communicate with to publish posts. It supports basic micropub content types and you can also add movies you have watched.</p>
<h2>Motivation</h2>
<p>I wrote a <a href="https://github.com/benjifs/micropub">micropub and media endpoint</a> sometime in 2020 and since then I've been using several micropub clients to post content to my site. There are some extensions I would have liked to add to those but I felt like they were so specific to how I want to publish content to my site that it wouldn't have made sense to add there. I could have also just built the specific additions I wanted but I took this as an opportunity to build the one micropub client I would like to use.</p>
<h2>Development</h2>
<p>Similar to my micropub endpoint, I wanted to build this so it could easily be deployed to <a href="https://www.netlify.com/">Netlify</a> with a single click and some minor environment variable configurations.</p>
<p>I initially tried to keep things as close to vanilla JS as possible but in the end chose to use <a href="https://mithril.js.org/">Mithril.js</a> as a framework. I already use several of the other popular Javascript frameworks in other projects so I took this as an opportunity to learn something new.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">CORS</a> errors started showing up and the quickest way I figured at the time to handle these errors was to use <a href="https://www.netlify.com/products/functions/">Netlify's functions</a> to proxy requests to the <a href="https://indieauth.net/">IndieAuth</a> and micropub endpoints. There is probably a better way to handle this but I figured this could be future Benji's problem.</p>
<h2>The Actual App</h2>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-menu.jpg" alt="sparkles: main menu" /></span></p>
<p>On login there are options to add content based on the basic content types. Clicking on notes for example will open up a basic <code>textarea</code> and an input field for comma separated tags.</p>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-note.jpg" alt="sparkles: adding note content" /></span></p>
<p>One of the custom content types that I wanted to support on my site is <a href="https://benji.dog/watched">watched</a> movie posts. I currently manually run some code to convert my RSS feed from <a href="https://letterboxd.com/">Letterboxd</a> and it works well enough but ideally this could all be done directly to my site using micropub. For movie search I am using <a href="https://www.omdbapi.com/">OMDb API</a> which gives me all the basic info I would want to display for a movie.</p>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-movie-search.jpg" alt="sparkles: movie search" /></span></p>
<p>After a movie is selected, you can select if you have rewatched it and whether or not to rate it.</p>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-movie-add.jpg" alt="sparkles: adding The Empire Strikes Back as a watched post" /></span></p>
<p>The last bit of features I wanted to add where all dependent on sparkles being a <a href="https://web.dev/progressive-web-apps/">Progressive Web App (PWA)</a>. With the website installed on my phone as a PWA I could now share content from other apps to sparkles which will let me create a &quot;reply&quot;, &quot;bookmark&quot;, &quot;like&quot;, or &quot;RSVP&quot; post.</p>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-share-android.jpg" alt="Android share menu" /></span></p>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-share.jpg" alt="sparkles: handle share target" /></span></p>
<p>Lastly, I can also create a quick note or add an image using the <code>shortcuts</code> option.</p>
<p><span class="img-block"><img src="https://benji.dog/assets/images/sparkles-shortcuts.jpg" alt="sparkles: shortcut sample" /></span></p>
<h2>Issues</h2>
<p>PWA support is sort of iffy in my experience. I think Safari on iOS doesn't have full support for <code><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest/shortcuts">shortcuts</a></code> or <code><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest/share_target">share_target</a></code> which I think makes sense since these are still marked experimental.</p>
<p>On Android, only Chrome or Samsung Browser on Samsung devices seem to have access to a <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1243583">WebAPK minting server</a> which is necessary for the full PWA experience.</p>
<p>While the website can still be added as a shortcut, it will lose those key features if its not installed with a browser that supports PWAs.</p>
<h2>Future plans</h2>
<p>The code for <a href="https://benji.dog/tags/sparkles">sparkles</a> is still not open source but once I get stuff cleaned up I plan to make it public.</p>
<p>I don't usually write out reviews for movies so I completely forgot to include that when building the movie editor out. I plan to add an optional <code>textarea</code> with a checkbox to mark whether or not the content itself contains a spoiler.</p>
<p>The other type of content that I wanted to be able to publish from here are recipes. I have the basic idea for how to structure them but I'm still in the early planning stages on how to handle the different parts of a recipe. I also have to add support for this type of post on my <a href="https://github.com/benjifs/micropub">micropub endpoint</a> first which is why I'm leaving all of this for later.</p>]]></content>
		<category term="projects" scheme="https://benji.dog/tags/projects" />
		<category term="sparkles" scheme="https://benji.dog/tags/sparkles" />
		<category term="micropub client" scheme="https://benji.dog/tags/micropub-client" />
	</entry>
	<entry>
		<id>https://benji.dog/watched/1669766400-after-yang-2021/</id>
		<title>Watched After Yang, 2021 - ★★★★</title>
		<link href="https://benji.dog/watched/1669766400-after-yang-2021/"/>
		<updated>2022-11-30T00:00:00Z</updated>
		<summary>After Yang, 2021 - ★★★★</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/film-poster/5/1/3/2/0/6/513206-after-yang-0-600-0-900-crop.jpg?v=a7b081cba8" /></p> <p>Watched on Wednesday November 30, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/watched/1669680000-thirteen-lives-2022/</id>
		<title>Watched Thirteen Lives, 2022 - ★★★½</title>
		<link href="https://benji.dog/watched/1669680000-thirteen-lives-2022/"/>
		<updated>2022-11-29T00:00:00Z</updated>
		<summary>Thirteen Lives, 2022 - ★★★½</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/film-poster/6/2/2/6/5/4/622654-thirteen-lives-0-600-0-900-crop.jpg?v=df719c3b6c" /></p> <p>Watched on Tuesday November 29, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/bookmarks/toronto-phreak---payphones-in-21st-century-toronto/</id>
		<title>Bookmarked &quot;Toronto Phreak - Payphones in 21st Century Toronto&quot;</title>
		<link href="https://benji.dog/bookmarks/toronto-phreak---payphones-in-21st-century-toronto/"/>
		<updated>2022-11-22T01:20:39Z</updated>
		<summary>Bookmarked https://torontophreak.com/</summary>
		<content type="html"><![CDATA[Bookmarked <a href="https://torontophreak.com/">https://torontophreak.com/</a>]]></content>
		<category term="payphones" scheme="https://benji.dog/tags/payphones" />
	</entry>
	<entry>
		<id>https://benji.dog/notes/1668671851/</id>
		<title />
		<link href="https://benji.dog/notes/1668671851/"/>
		<updated>2022-11-17T07:57:30Z</updated>
		<summary>testing my website on netsurf feels like relearning HTML + CSS and that&#39;s kinda cool</summary>
		<content type="html"><![CDATA[<p>testing my website on <a href="https://www.netsurf-browser.org/">netsurf</a> feels like relearning HTML + CSS and that's kinda cool</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/watched/1668470400-tr-2022/</id>
		<title>Watched TÁR, 2022 - ★★★★★</title>
		<link href="https://benji.dog/watched/1668470400-tr-2022/"/>
		<updated>2022-11-15T00:00:00Z</updated>
		<summary>TÁR, 2022 - ★★★★★</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/film-poster/7/3/4/0/9/6/734096-tar-0-600-0-900-crop.jpg?v=e6d8348cff" /></p> <p>Watched on Tuesday November 15, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/bookmarks/philtel/</id>
		<title>Bookmarked &quot;philtel&quot;</title>
		<link href="https://benji.dog/bookmarks/philtel/"/>
		<updated>2022-11-12T06:15:10Z</updated>
		<summary>Bookmarked https://philtel.org/</summary>
		<content type="html"><![CDATA[Bookmarked <a href="https://philtel.org/">https://philtel.org/</a>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/notes/1668231771/</id>
		<title />
		<link href="https://benji.dog/notes/1668231771/"/>
		<updated>2022-11-12T05:42:51Z</updated>
		<summary>I kinda want to make sparkles use themes but only if its system.css or 98.css</summary>
		<content type="html"><![CDATA[<p>I kinda want to make <a href="https://benji.dog/tags/sparkles">sparkles</a> use themes but only if its <a href="https://sakofchit.github.io/system.css/">system.css</a> or <a href="https://jdan.github.io/98.css/">98.css</a></p>]]></content>
		<category term="sparkles" scheme="https://benji.dog/tags/sparkles" />
	</entry>
	<entry>
		<id>https://benji.dog/watched/1668211200-the-hobbit-the-desolation-of-smaug-2013/</id>
		<title>Rewatched The Hobbit: The Desolation of Smaug, 2013 - ★★★½</title>
		<link href="https://benji.dog/watched/1668211200-the-hobbit-the-desolation-of-smaug-2013/"/>
		<updated>2022-11-12T00:00:00Z</updated>
		<summary>The Hobbit: The Desolation of Smaug, 2013 - ★★★½</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/sm/upload/e0/ek/na/yb/gQCiuxGsfiXH1su6lp9n0nd0UeH-0-600-0-900-crop.jpg?v=00310e521d" /></p> <p>Watched on Saturday November 12, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/notes/1667940289/</id>
		<title />
		<link href="https://benji.dog/notes/1667940289/"/>
		<updated>2022-11-08T20:44:48Z</updated>
		<summary>the github action for sending webmentions is the issue here but &amp;quot;it works on my machine&amp;quot;</summary>
		<content type="html"><![CDATA[<p>the github action for sending webmentions is the issue here but &quot;it works on my machine&quot;</p>]]></content>
		<category term="test" scheme="https://benji.dog/tags/test" />
	</entry>
	<entry>
		<id>https://benji.dog/notes/1667936858/</id>
		<title />
		<link href="https://benji.dog/notes/1667936858/"/>
		<updated>2022-11-08T19:47:38Z</updated>
		<summary>This is a test</summary>
		<content type="html"><![CDATA[<p>This is a test</p>]]></content>
		<category term="test" scheme="https://benji.dog/tags/test" />
	</entry>
	<entry>
		<id>https://benji.dog/watched/1667865600-oblivion-2013/</id>
		<title>Watched Oblivion, 2013 - ★★★</title>
		<link href="https://benji.dog/watched/1667865600-oblivion-2013/"/>
		<updated>2022-11-08T00:00:00Z</updated>
		<summary>Oblivion, 2013 - ★★★</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/film-poster/6/2/1/0/8/62108-oblivion-0-600-0-900-crop.jpg?v=34e6dfa548" /></p> <p>Watched on Tuesday November 8, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/notes/1667860562/</id>
		<title />
		<link href="https://benji.dog/notes/1667860562/"/>
		<updated>2022-11-07T22:36:02Z</updated>
		<summary>finally figured out the image upload issues and have things mostly working. Just need to add additional validation for the text fields and I&#39;ll feel better about things</summary>
		<content type="html"><![CDATA[<p><span class="img-block"><img src="https://benji.dog/uploads/1667859702_Screenshot_20221105-005947_Samsung%20Internet.jpg" alt="sparkles: a micropub client" /></span></p>
<p>finally figured out the image upload issues and have things mostly working. Just need to add additional validation for the text fields and I'll feel better about things</p>]]></content>
		<category term="micropub" scheme="https://benji.dog/tags/micropub" />
		<category term="sparkles" scheme="https://benji.dog/tags/sparkles" />
	</entry>
	<entry>
		<id>https://benji.dog/bookmarks/build-your-own-screenshot-garden/</id>
		<title>Bookmarked &quot;build your own screenshot garden&quot;</title>
		<link href="https://benji.dog/bookmarks/build-your-own-screenshot-garden/"/>
		<updated>2022-11-06T05:07:12Z</updated>
		<summary>Bookmarked https://screenshot-garden.neocities.org/build-your-own.html</summary>
		<content type="html"><![CDATA[Bookmarked <a href="https://screenshot-garden.neocities.org/build-your-own.html">https://screenshot-garden.neocities.org/build-your-own.html</a>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/notes/1667710919/</id>
		<title />
		<link href="https://benji.dog/notes/1667710919/"/>
		<updated>2022-11-06T05:01:59Z</updated>
		<summary>running into form data issues so image upload does not work at all. CORS makes this more annoying with netlify functions</summary>
		<content type="html"><![CDATA[<p>running into form data issues so image upload does not work at all. CORS makes this more annoying with <a href="https://functions.netlify.com/">netlify functions</a></p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/notes/1667628319/</id>
		<title />
		<link href="https://benji.dog/notes/1667628319/"/>
		<updated>2022-11-05T06:05:18Z</updated>
		<summary>and it didnt work. this is why we test in production</summary>
		<content type="html"><![CDATA[<p>and it didnt work. this is why we test in production</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/notes/1667628159/</id>
		<title />
		<link href="https://benji.dog/notes/1667628159/"/>
		<updated>2022-11-05T06:02:39Z</updated>
		<summary>I&#39;ve been working on a thing</summary>
		<content type="html"><![CDATA[<p><span class="img-block"><img src="https://benji.dog/uploads/1667628099_Screenshot_20221105-005947_Samsung%20Internet.jpg" alt="micropub client preview" /></span></p>
<p>I've been working on a thing</p>]]></content>
		<category term="micropub client" scheme="https://benji.dog/tags/micropub-client" />
	</entry>
	<entry>
		<id>https://benji.dog/watched/1667520000-weird-the-al-yankovic-story-2022/</id>
		<title>Watched Weird: The Al Yankovic Story, 2022 - ★★★★</title>
		<link href="https://benji.dog/watched/1667520000-weird-the-al-yankovic-story-2022/"/>
		<updated>2022-11-04T00:00:00Z</updated>
		<summary>Weird: The Al Yankovic Story, 2022 - ★★★★</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/film-poster/8/3/3/7/6/1/833761-weird-the-al-yankovic-story-0-600-0-900-crop.jpg?v=e29de7706f" /></p> <p>Watched on Friday November 4, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/watched/1667433600-the-hobbit-an-unexpected-journey-2012/</id>
		<title>Rewatched The Hobbit: An Unexpected Journey, 2012 - ★★★½</title>
		<link href="https://benji.dog/watched/1667433600-the-hobbit-an-unexpected-journey-2012/"/>
		<updated>2022-11-03T00:00:00Z</updated>
		<summary>The Hobbit: An Unexpected Journey, 2012 - ★★★½</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/sm/upload/s7/p6/sy/6v/mfSAahVkAIYFkx1GVFSlCEdn0mt-0-600-0-900-crop.jpg?v=282e4f2260" /></p> <p>Watched on Thursday November 3, 2022.</p>]]></content>
	</entry>
	<entry>
		<id>https://benji.dog/watched/1667260800-see-how-they-run-2022/</id>
		<title>Watched See How They Run, 2022 - ★★★½</title>
		<link href="https://benji.dog/watched/1667260800-see-how-they-run-2022/"/>
		<updated>2022-11-01T00:00:00Z</updated>
		<summary>See How They Run, 2022 - ★★★½</summary>
		<content type="html"><![CDATA[<p><img src="https://a.ltrbxd.com/resized/film-poster/6/8/6/5/1/0/686510-see-how-they-run-0-600-0-900-crop.jpg?v=6f39272362" /></p> <p>Watched on Tuesday November 1, 2022.</p>]]></content>
	</entry>
</feed>