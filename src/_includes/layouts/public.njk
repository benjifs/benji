{% extends "layouts/base.njk"%}
{% block content %}
<section>
	<article class="h-entry">
		{%- set entry = page %}
		{%- set categories = tags %}
		{% include "partials/entry/details.njk" %}
		{%- set bookmark = 'bookmark-of' | getVariable %}
		{%- set liked = 'like-of' | getVariable %}
		{%- set reply = 'in-reply-to' | getVariable %}
		{%- set readOf = 'read-of' | getVariable %}
		{%- set watchOf = 'watch-of' | getVariable %}
		{%- if liked %}
			<h1>&nbsp;</h1>
			{%- set likedTitle = title -%}
			{%- set entryType = 'like' -%}
			{% include "partials/entry/like.njk" %}
		{%- elif bookmark %}
			{%- set entryType = 'bookmark' -%}
			<h1>&nbsp;</h1>
			{%- set bookmarkTitle = title %}
			{% include "partials/entry/bookmark.njk" %}
		{%- elif rsvp %}
			{%- set entryType = 'rsvp' -%}
			<h1>&nbsp;</h1>
			{% include "partials/entry/rsvp.njk" %}
		{%- elif readOf %}
			{%- set entryType = 'read' -%}
			<h1>&nbsp;</h1>
			{% include "partials/entry/read.njk" %}
		{%- elif watchOf %}
			{%- set entryType = 'watched' -%}
			<h1>&nbsp;</h1>
			{% include "partials/entry/watch.njk" %}
		{%- elif title %}
			{%- set entryType = 'article' -%}
			<h1 class="p-name">{{ title }}</h1>
			{%- set postDate = page.date %}
			{%- set postContent = content %}
			{% include "partials/entry/article.njk" %}
		{%- else %}
			{%- set entryType = 'reply' if reply else 'note' %}
			{%- set noteContent = content %}
			{%- include "partials/entry/note.njk" -%}
		{%- endif %}
		{%- include "partials/entry/footer.njk" %}
	</article>
</section>
{% endblock %}
{% block pagetitle %}
<title>{% if title or summary %}{{ title or summary }} | {% endif %}{{ metadata.title }}</title>
{% endblock %}
{% block opengraph %}
<meta property="og:title" content="{{ title }}">
<meta property="og:image" content="{{ featured if featured else metadata.url + metadata.icon }}">
<meta property="og:description" content="{{ summary if summary else content | striptags | truncate(200) }}">
{% endblock %}